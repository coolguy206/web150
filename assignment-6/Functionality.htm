<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Functionality</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>Functionality</h1>

    <p>
        For this assignment, edit the source code below and edit the 
provided functions so that the tests will pass. Tests will be output to 
the console.

    <script>
//Our assert function, since console.assert() only logs failures
var assert = function(test, message) {
    if (test) {
        //passing test, use lovely .info() format!
        console.info(message || "Test passed!");
    } else {
        //failed, use error()
        console.error(message || "Test failed!");
    }
};

//1. Create a function that returns a "doubled" string: "hello" -> "hellohello"
var doubler = function(a) {
	var a = a + a;
	return a;
};

assert( doubler("a") == "aa", "Double simple strings");
assert( doubler("bbc") == "bbcbbc", "Double longer strings as well");

//2. Create a function that converts decimal values into percentage strings: .01 -> "1%"
var makePercentage = function(a) {
	a = a*100;
	var makeString = a.toString();
	var addSign = makeString + '%';
	return addSign;
};

assert( makePercentage(.13) == "13%" );
assert( makePercentage(1) == "100%" );
assert( makePercentage(.456) == "45.6%", "Don't round your results");

//3. Create a function that takes two numbers and adds them together. If you
//feed it a string, it should convert it to a number first.
var adder = function(a, b) {
	a = Number(a);
	return a + b;
};

assert( adder(1, 2) == 3, "Numbers should be added together");
assert( adder("2", 4) == 6, "Strings should be converted to numbers");
assert( isNaN( adder("abc", 4) ) && typeof adder("abc", 4) == "number", "Bad input should result in NaN");

//4. Using the concept of function scope, change the variable `greeting` to
//read "Hello, world!" just by editing the function `sayHello`.
var greeting;
var sayHello = function() {
	var hello = "Hello, world!";
	greeting = hello;
	return greeting;
};

sayHello();
assert( greeting == "Hello, world!", "sayHello() should alter greeting");

//5. Remember our loops? They're back: update `findTotal` so that it totals up
//all the numbers in an array that's passed in.
var samples = [1, 2, 3, 4, 5];

var findTotal = function(arr) {
		var total = 0;
	for(var i = 0; i < arr.length; i++){
		total = total + arr[i];
	}
	return total;
};
assert( findTotal(samples) == 15, "Function found the correct total");

//6. BONUS: Using the idea of functions as objects, update `identity` so
//that it calls the function that is passed in, and returns its value.
var testFunction = function() { return "This value should pass through " };
var identity = function() {};

assert( identity(testFunction) == testFunction(), "(bonus) Identity function should call its argument");

//7. BONUS: Combining loops and functions, you never have to write a loop
//again. Update `each` so that it:
// a) takes as its arguments an array and a function,
// b) calls that function on each item in the array

var each = function() {};

var fraction = 1;
var divide = function(item) {
    fraction = fraction / item;
};
each(samples, divide);
assert( fraction == 1 / 1 / 2 / 3 / 4 / 5, "(bonus) Your first iterator function");

    </script>

</p></body></html>